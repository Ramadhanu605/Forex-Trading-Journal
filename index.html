<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trade Log Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body { font-family:'Segoe UI',sans-serif; background:#0e101a; color:#fff; margin:0; padding:0;}
header { background:#1b1f34; padding:1rem; text-align:center; font-size:1.5rem; }
.dashboard { padding:1rem; }
.kpi { display:flex; gap:1rem; margin-bottom:1rem; }
.card { background:#1b1f34; padding:1rem; border-radius:8px; flex:1; }
.card h3 { margin:0 0 0.5rem 0; font-size:1rem; color:#ccc;}
table { width:100%; border-collapse:collapse; margin-top:1rem; font-size:0.8rem;}
th, td { padding:0.4rem; text-align:center; border-bottom:1px solid #2a2d3e; }
th { background:#222537; color:#aaa; }
td { color:#fff; }
td.positive { color:#10b981; }
td.negative { color:#ef4444; }
select, input { margin:0 0.2rem; padding:0.3rem; background:#1b1f34; border:1px solid #444; color:#fff; border-radius:4px;}
.filter-bar { margin-bottom:1rem; display:flex; gap:0.5rem; flex-wrap:wrap;}
</style>
</head>
<body>

<header>TRADE LOG</header>
<div class="dashboard">

  <!-- KPI Summary -->
  <div class="kpi">
    <div class="card"><h3>Total Trades</h3><p id="totalTrades">0</p></div>
    <div class="card"><h3>Winning Trades</h3><p id="winTrades">0</p></div>
    <div class="card"><h3>Losing Trades</h3><p id="loseTrades">0</p></div>
    <div class="card"><h3>Win Rate</h3><p id="winRate">0%</p></div>
    <div class="card"><h3>Total P/L ($)</h3><p id="totalPL">0</p></div>
  </div>

  <!-- Filter Bar -->
  <div class="filter-bar">
    <label>Symbol:<select id="symbolFilter"><option>All</option></select></label>
    <label>Type:<select id="typeFilter"><option>All</option><option>Buy</option><option>Sell</option></select></label>
    <label>Setup:<input type="text" id="setupFilter" placeholder="Setup"/></label>
    <label>Emotion:<input type="text" id="emotionFilter" placeholder="Emotion"/></label>
  </div>

  <!-- Trade Table -->
  <div class="card">
    <table>
      <thead>
        <tr>
          <th>NO.</th><th>OPEN TIME</th><th>TYPE</th><th>SIZE</th><th>ITEM</th>
          <th>ENTRY PRICE</th><th>S/L</th><th>T/P</th><th>CLOSE TIME</th>
          <th>EXIT PRICE</th><th>TOTAL FEES</th><th>PROFIT/LOSS</th><th>PIPS</th>
          <th>NET PNL ($)</th><th>PRICE %</th><th>DURATION</th><th>R-MUL.</th>
          <th>TRADE SETUP</th><th>ENTRY/EXIT</th><th>EMOTION</th>
          <th>REASON FOR BUYING/SELLING</th><th>ADDITIONAL NOTES</th>
        </tr>
      </thead>
      <tbody id="tradeTable"></tbody>
    </table>
  </div>

</div>

<script>
// Contoh data trade log
const trades = [
  {no:1, open:'2026-02-01 00:00', type:'BUY', size:0.01, item:'EURUSD', entry:1.1800, sl:1.1790, tp:1.1850, close:'2026-02-01 02:00', exit:1.1850, fees:0.1, pl:50, pips:50, net:50, pricePct:0.42, duration:'2h', rmul:0.5, setup:'ZRC-R', entryExit:'Full', emotion:'Neutral', reason:'Trend', notes:''},
  {no:2, open:'2026-02-01 03:00', type:'SELL', size:0.01, item:'EURUSD', entry:1.1820, sl:1.1830, tp:1.1760, close:'2026-02-01 05:00', exit:1.1760, fees:0.1, pl:60, pips:60, net:59.9, pricePct:0.51, duration:'2h', rmul:0.6, setup:'ZRC-R', entryExit:'Full', emotion:'Neutral', reason:'Trend', notes:''}
];

// Fill table & filters
const tradeTable = document.getElementById('tradeTable');
const symbolFilter = document.getElementById('symbolFilter');

const symbols = [...new Set(trades.map(t=>t.item))];
symbols.forEach(s=>{ const opt=document.createElement('option'); opt.value=s; opt.text=s; symbolFilter.add(opt);});

function updateTable() {
  const sym = symbolFilter.value;
  const type = document.getElementById('typeFilter').value.toUpperCase();
  const setup = document.getElementById('setupFilter').value.toLowerCase();
  const emotion = document.getElementById('emotionFilter').value.toLowerCase();
  tradeTable.innerHTML='';
  let total=0, win=0, lose=0, pl=0;
  trades.forEach(t=>{
    if((sym==='All'||t.item===sym)&&(type==='ALL'||t.type===type)&&
       (!setup||t.setup.toLowerCase().includes(setup))&&
       (!emotion||t.emotion.toLowerCase().includes(emotion))
      ){
      const row = tradeTable.insertRow();
      Object.values(t).forEach(val=>{
        const cell = row.insertCell();
        cell.innerText = val;
        if(val>0 && typeof val==='number') cell.classList.add('positive');
        if(val<0 && typeof val==='number') cell.classList.add('negative');
      });
      total++; pl+=t.pl;
      if(t.pl>0) win++; else lose++;
    }
  });
  document.getElementById('totalTrades').innerText = total;
  document.getElementById('winTrades').innerText = win;
  document.getElementById('loseTrades').innerText = lose;
  document.getElementById('winRate').innerText = total? Math.round(win/total*100)+'%':'0%';
  document.getElementById('totalPL').innerText = pl.toFixed(2);
}

symbolFilter.addEventListener('change', updateTable);
document.getElementById('typeFilter').addEventListener('change', updateTable);
document.getElementById('setupFilter').addEventListener('input', updateTable);
document.getElementById('emotionFilter').addEventListener('input', updateTable);

updateTable();
</script>

</body>
</html>
